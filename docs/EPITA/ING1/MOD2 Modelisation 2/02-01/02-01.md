---
title: 02-01
Owner: Tim Pearson
---
  
# Standard Protocol
## General Functions
![[Untitled 101.png|Untitled 101.png]]

- before:
    - generics, protocoles or interfaces
    - Declarations or setups that occur before the primary methods within a class or object-oriented structure. This may include class-level declarations, such as generics or protocol conformances
- primary:
    - instance methods, static methods
    - Core methods within a class or object that are responsible for defining its main functionality. These methods typically include initializers, instance methods, and static methods.
- after:
    - Additional Nested Types, Additional Conformances or Extensions
    - Declarations or setups that occur after the primary methods within a class or object-oriented structure.
- around:
    - methods that wrap the primary methods of a class. They intercept calls to the primary methods and can execute code before and after them.
    - found in aspect-oriented programming (AOP), where methods are intercepted ad modified before and after their execution, typically for cross-cutting concerns such as logging, security, or performance monitoring. These methods encapsulate the primary logic of the operation being intercepted.
- exmaple: 
    
    ```Lisp
    
    (defclass MyClass ()
      ())
    
    (defmethod my-method :before ((obj MyClass))
      (format t "1. Before primary method. "))
    
    (defmethod my-method :after ((obj MyClass))
      (format t "5. After primary method. "))
    
    (defmethod my-method :around ((obj MyClass))
      (format t "2. Before around method. ")
      (call-next-method)
      (format t "4. After around method. "))
    
    (defmethod my-method ((obj MyClass))
      (format t "3. Primary method. "))
    
    ;; Usage
    (my-method (make-instance 'MyClass))
    ;; this will print:
    1. Before around method.
    2. Before primary method.
    3. Primary method.
    4. After primary method.
    5. After around method.
    ```
    
      
    
## Call-next-method
- special function used within :around
- calls the primary method in our case
    
    ### method combinations
    
    - **Standard Method Combination (**`**standard**`**)**: next most specific
    - **+ Method Combination (**`**+**`**)**: all applicable methods in order of specificity, from most specific to least specific.
    - **Progn Method Combination (**`**progn**`**)**: next method without considering specificity
    - **And and Or Method Combinations (**`**and**` **and** `**or**`**)**: continues to the next method if the previous method returns true (for and) false (for or)
    
      
    
    ![[Untitled 1 69.png|Untitled 1 69.png]]

    
## Instantiations
![[Untitled 2 50.png|Untitled 2 50.png]]

  
## eq1 specializer
  
  
  
# Meta-Classes
## Pri